var dataSet = {
	"elevator1": {
		"name": "Elevator",
		"type": "elevator",
		"longitude": -74.0235363,
		"latitude": 40.7596095,
		"distance": 0
	},
	"elevator2": {
		"name": "Elevator",
		"type": "elevator",
		"longitude": -74.0230839,
		"latitude": 40.7601986,
		"distance": 0
	},
	"elevator3": {
		"name": "Elevator",
		"type": "stairs",
		"longitude": -74.0238889,
		"latitude": 40.7597354,
		"distance": 0
	},
	"amphitheatre1": {
		"name": "Amphitheatre 1",
		"type": "training",
		"longitude": -74.0229505,
		"latitude": 40.7602483,
		"distance": 0
	},
	"amphitheatre2": {
		"name": "Amphitheatre 2",
		"type": "training",
		"longitude": -74.0227668,
		"latitude": 40.7601620,
		"distance": 0
	},
	"tr2": {
		"name": "Training Room 2",
		"type": "training",
		"longitude": -74.02274199,
		"latitude": 40.7601046,
		"distance": 0
	},
	"tr3": {
		"name": "Training Room 3",
		"type": "training",
		"longitude": -74.0227721,
		"latitude": 40.7600594,
		"distance": 0
	},
	"tr4": {
		"name": "Training Room 4",
		"type": "training",
		"longitude": -74.02282958,
		"latitude": 40.7599899,
		"distance": 0
	},
	"tr5": {
		"name": "Training Room 5",
		"type": "training",
		"longitude": -74.0229505,
		"latitude": 40.7602483,
		"distance": 0
	},
	"tr6": {
		"name": "Training Room 6",
		"type": "training",
		"longitude": -74.0229522,
		"latitude": 40.7599408,
		"distance": 0
	},
	"tr7": {
		"name": "Training Room 7",
		"type": "training",
		"longitude": -74.0230400,
		"latitude": 40.7599827,
		"distance": 0
	},
	"tr8": {
		"name": "Training Room 8",
		"type": "training",
		"longitude": -74.0229506,
		"latitude": 40.7600133,
		"distance": 0
	},
	"tr9": {
		"name": "training Room 9",
		"type": "training",
		"longitude": -74.0230076,
		"latitude": 40.7600426,
		"distance": 0
	},
	"tr10": {
		"name": "Training Room 10",
		"type": "training",
		"longitude": -74.0230740,
		"latitude": 40.7600726,
		"distance": 0
	},
	"tr11": {
		"name": "Training Room 11",
		"type": "training",
		"longitude": -74.0231350,
		"latitude": 40.7600972,
		"distance": 0
	},
	"tr12": {
		"name": "Training Room 12",
		"type": "training",
		"longitude": -74.0231011,
		"latitude": 40.7600179,
		"distance": 0
	},
	"tr13": {
		"name": "Training Room 13",
		"type": "training",
		"longitude": -74.0232507,
		"latitude": 40.7600255,
		"distance": 0
	},
	"tr14": {
		"name": "Training Room 14",
		"type": "training",
		"longitude": -74.0232808,
		"latitude": 40.7600006,
		"distance": 0
	},
	"tr15": {
		"name": "Training Room 15",
		"type": "training",
		"longitude": -74.0232969,
		"latitude": 40.7599727,
		"distance": 0
	},
	"tr16": {
		"name": "Training Room 16",
		"type": "training",
		"longitude": -74.0232420,
		"latitude": 40.7599432,
		"distance": 0
	},
	"tr17": {
		"name": "Training Room 17",
		"type": "training",
		"longitude": -74.0232044,
		"latitude": 40.7599874,
		"distance": 0
	},
	"br1f": {
		"name": "Bathroom (female)",
		"type": "bathroom",
		"longitude": -74.0229228,
		"latitude": 40.7601662,
		"distance": 0
	},
	"br1m": {
		"name": "Bathroom (male)",
		"type": "bathroom",
		"longitude": -74.0229697,
		"latitude": 40.7601078,
		"distance": 0
	},
	"br2f": {
		"name": "Bathroom (female)",
		"type": "bathroom",
		"longitude": -74.0234123,
		"latitude": 40.7595105,
		"distance": 0
	},
	"br2m": {
		"name": "Bathroom (male)",
		"type": "bathroom",
		"longitude": -74.0232721,
		"latitude": 40.7595283,
		"distance": 0
	},
	"br3f": {
		"name": "Bathroom (female)",
		"type": "bathroom",
		"longitude": -74.02335118,
		"latitude": 40.7599259,
		"distance": 0
	},
	"br3m": {
		"name": "Bathroom (male)",
		"type": "bathroom",
		"longitude": -74.02333844,
		"latitude": 40.7599411,
		"distance": 0
	},
	"stairs1": {
		"name": "Stairs",
		"type": "stairs",
		"longitude": -74.0234041,
		"latitude": 40.7595876,
		"distance": 0
	},
	"stairs2": {
		"name": "Stairs",
		"type": "stairs",
		"longitude": -74.0230648,
		"latitude": 40.7594348,
		"distance": 0
	},
	"stairs3": {
		"name": "Stairs",
		"type": "stairs",
		"longitude": -74.0238534,
		"latitude": 40.7595202,
		"distance": 0
	},
	"stairs4": {
		"name": "Stairs",
		"type": "stairs",
		"longitude": -74.0240183,
		"latitude": 40.7596151,
		"distance": 0
	},
	"stairs5": {
		"name": "Stairs",
		"type": "stairs",
		"longitude": -74.0228730,
		"latitude": 40.7601418,
		"distance": 0
	},
	"stairs6": {
		"name": "Stairs",
		"type": "stairs",
		"longitude": -74.0231640,
		"latitude": 40.7601941,
		"distance": 0
	},
	"quietroom1": {
		"name": "Quiet Room 1",
		"type": "office",
		"longitude": -74.0230641,
		"latitude": 40.7602616,
		"distance": 0
	},
	"quietroom2": {
		"name": "Quiet Room 2",
		"type": "office",
		"longitude": -74.0230883,
		"latitude": 40.7602723,
		"distance": 0
	},
	"pantry1": {
		"name": "Pantry",
		"type": "food",
		"longitude": -74.0278931,
		"latitude": 40.7600062,
		"distance": 0
	},
	"pantry2": {
		"name": "Pantry",
		"type": "food",
		"longitude": -74.0228422,
		"latitude": 40.7600636,
		"distance": 0
	},
	"meetingRoom1": {
		"name": "CDC Office Meeting Room",
		"type": "CDC office",
		"longitude": -74.0230205,
		"latitude": 40.7603779,
		"distance": 0
	},
	"smallOffice": {
		"name": "CDC Small Office",
		"type": "CDC office",
		"longitude": -74.0229843,
		"latitude": 40.7603617,
		"distance": 0
	},
	"conferenceRoom1": {
		"name": "Conference Room 1",
		"type": "conference room",
		"longitude": -74.0229066,
		"latitude": 40.76020327,
		"distance": 0
	},
	"conferenceRoom2": {
		"name": "Conference Room 2",
		"type": "conference room",
		"longitude": -74.02309838,
		"latitude": 40.7600148,
		"distance": 0
	},
	"gym": {
		"name": "Fitness Center",
		"type": "gym",
		"longitude": -74.0234658,
		"latitude": 40.7597639,
		"distance": 0
	},
	"techlabA": {
		"name": "Tech Lab A",
		"type": "training",
		"longitude": -74.0238869,
		"latitude": 40.7596379,
		"distance": 0
	},
	"techlabB": {
		"name": "Tech Lab B",
		"type": "training",
		"longitude": -74.0239171,
		"latitude": 40.7596090,
		"distance": 0
	},
	"techlabC": {
		"name": "Tech Lab C",
		"type": "training",
		"longitude": -74.0239278,
		"latitude": 40.7596613,
		"distance": 0
	},
	"auditorium": {
		"name": "Auditorium",
		"type": "auditorium",
		"longitude": -74.0229931,
		"latitude": 40.7594723,
		"distance": 0
	},
	"cafeteria": {
		"name": "Cafeteria",
		"type": "food",
		"longitude": -74.0233102,
		"latitude": 40.7593906,
		"distance": 0
	},
}

function distance(lat1, lon1, lat2, lon2, unit) {
	var radlat1 = Math.PI * lat1/180
	var radlat2 = Math.PI * lat2/180
	var theta = lon1-lon2
	var radtheta = Math.PI * theta/180
	var dist = Math.sin(radlat1) * Math.sin(radlat2) + Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);
	dist = Math.acos(dist)
	dist = dist * 180/Math.PI
	dist = dist * 60 * 1.1515
	if (unit=="K") { dist = dist * 1.609344 }
	if (unit=="N") { dist = dist * 0.8684 }
	return dist/5280
}


function calculateDistances() {
	var lat = currentLocation['latitude'];
	var lon = currentLocation['longitude'];
	for (key in dataSet){
		dataSet[key]['distance'] = distance(dataSet[key]['latitude'],dataSet[key]['longitude'],lat,lon,'M');
	}
}

var autocompleteData = {
	data: dataSet,
	getValue: "name",

	template: {
		type: "custom",
		method: function(value, item) {
			return value + '<span class="distance">' + item.distance + '</span>';
		}
	},

	list: {
		onSelectItemEvent: function(){
			//var value = $("#function-data").getSelectedItemData().realName;

			//$("#data-holder").val(value).trigger("change");
		}
	}
}

$("#search-bar-field").easyAutocomplete(options);


